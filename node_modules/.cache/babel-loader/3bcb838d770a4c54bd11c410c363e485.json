{"ast":null,"code":"import _asyncToGenerator from\"/Users/admin/Desktop/react-pr/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _toConsumableArray from\"/Users/admin/Desktop/react-pr/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/admin/Desktop/react-pr/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _regeneratorRuntime from\"/Users/admin/Desktop/react-pr/node_modules/@babel/runtime/regenerator/index.js\";import{profileAPI,userAPI}from\"../api/api\";var ADD_POST='ADD-POST';var SET_USER_PROFILE='SET_USER_PROFILE';var SET_STATUS='SET_STATUS';var initialState={posts:[{id:1,message:'Hi, how are you',likeCount:2},{id:2,message:'Its my first post!',likeCount:3}],profile:null,status:''};var profileReducer=function profileReducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:initialState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case ADD_POST:{var newPost={id:5,message:action.newPostText,likeCount:0};return _objectSpread(_objectSpread({},state),{},{posts:[].concat(_toConsumableArray(state.posts),[newPost])});}case SET_USER_PROFILE:{return _objectSpread(_objectSpread({},state),{},{profile:action.profile});}case SET_STATUS:{return _objectSpread(_objectSpread({},state),{},{status:action.status});}default:return state;}};export var addPostActionCreator=function addPostActionCreator(newPostText){return{type:ADD_POST,newPostText:newPostText};};export var setUserProfile=function setUserProfile(profile){return{type:SET_USER_PROFILE,profile:profile};};export var setStatus=function setStatus(status){return{type:SET_STATUS,status:status};};export var getUserProfile=function getUserProfile(userId){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispach){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return userAPI.getProfile(userId);case 2:response=_context.sent;dispach(setUserProfile(response.data));case 4:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getStatus=function getStatus(userId){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispach){var response;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return profileAPI.getStatus(userId);case 2:response=_context2.sent;dispach(setStatus(response.data));case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function(_x2){return _ref2.apply(this,arguments);};}();};export var updateStatus=function updateStatus(status){return/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(dispach){var response;return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:_context3.next=2;return profileAPI.updateStatus(status);case 2:response=_context3.sent;if(response.data===0){dispach(setStatus(status));}case 4:case\"end\":return _context3.stop();}}},_callee3);}));return function(_x3){return _ref3.apply(this,arguments);};}();};export default profileReducer;","map":{"version":3,"sources":["/Users/admin/Desktop/react-pr/src/redux/profile-reducer.js"],"names":["profileAPI","userAPI","ADD_POST","SET_USER_PROFILE","SET_STATUS","initialState","posts","id","message","likeCount","profile","status","profileReducer","state","action","type","newPost","newPostText","addPostActionCreator","setUserProfile","setStatus","getUserProfile","userId","dispach","getProfile","response","data","getStatus","updateStatus"],"mappings":"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","sourcesContent":["import { profileAPI, userAPI } from \"../api/api\";\n\nconst ADD_POST = 'ADD-POST';\nconst SET_USER_PROFILE = 'SET_USER_PROFILE';\nconst SET_STATUS = 'SET_STATUS';\n\nlet initialState = {\n    posts: [\n        { id: 1, message: 'Hi, how are you', likeCount: 2 },\n        { id: 2, message: 'Its my first post!', likeCount: 3 },\n    ],\n    profile: null,\n    status: ''\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 5,\n                message: action.newPostText,\n                likeCount: 0\n            }\n            return {\n                ...state,\n                posts: [...state.posts, newPost],\n                \n            };\n        }\n        case SET_USER_PROFILE: {\n            return {\n                ...state,\n                profile: action.profile\n            };\n        }\n        case SET_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            };\n        }\n        default:\n            return state;\n    }\n}\n\nexport const addPostActionCreator = (newPostText) => ({ type: ADD_POST,newPostText })\nexport const setUserProfile = (profile) => ({ type: SET_USER_PROFILE, profile })\nexport const setStatus = (status) => ({ type: SET_STATUS, status })\n\nexport const getUserProfile = (userId) => async (dispach) => {\n       let response = await userAPI.getProfile(userId)\n                dispach(setUserProfile(response.data));        \n }\n\n\nexport const getStatus = (userId) => async (dispach) => {\n       let response = await profileAPI.getStatus(userId)\n         \n                dispach(setStatus(response.data));\n         \n    }\n\nexport const updateStatus = (status) => async (dispach) => {\n      let response = await profileAPI.updateStatus(status)\n            \n                if(response.data === 0) {\n                    dispach(setStatus(status));\n                }     \n         \n    }\n\n\n\nexport default profileReducer;\n"]},"metadata":{},"sourceType":"module"}